{"version":3,"sources":["client.js","model.js","store.js"],"names":[],"mappings":"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","file":"dist.js","sourcesContent":["var Client = function(config){\n  var c = {};\n\n  if(typeof config == \"string\"){\n    var c = {\n      config: {\n        path: config\n      }\n    }\n  }else{\n    var c = {\n      config: config\n    }\n  }\n\n  c.jQuery = Client.jQuery\n\n  c.config.scope = c.config.scope || \"\";\n  c.config.scope = c.config.scope.replace(\", \", \" \").split(\" \");\n  c.config.crudUrls = c.config.crudUrls || JSON.parse(JSON.stringify(Client.config.crudUrls));\n\n  var scopeCheck = function (scope){\n    return c.config.scope.join(\"\").length == 0 || c.config.scope.indexOf(scope) != -1;\n  }\n\n  \n  var setAction = function(actionName, type, path){\n    c[actionName] = function(params, paramsTwo){\n      if(paramsTwo == undefined){\n        paramsTwo = params\n      }\n      return c.jQuery.ajax({\n        method: type,\n        url: path(params), \n        data: paramsTwo\n      })\n    }\n  }\n\n\n\n  if(scopeCheck(\"create\")){\n    setAction(\"create\", \"post\", function(){\n      return c.config.path + c.config.crudUrls.create\n    })\n  }\n\n  if(scopeCheck(\"update\")){\n    setAction(\"update\", \"put\", function(queryParams, params){\n      path = c.config.path + c.config.crudUrls.update.replace(\":id\", queryParams.id)\n      delete queryParams.id;\n      return path\n    })\n  }\n  \n  if(scopeCheck(\"find\")){\n    setAction(\"find\", \"get\", function(){ return c.config.path + c.config.crudUrls.find})\n  }\n  \n  if(scopeCheck(\"findOne\")){\n    setAction(\"findOne\", \"get\", function(params){\n      var path = c.config.crudUrls.findOne.replace(\":id\", params.id);\n      delete params.id;\n      return c.config.path + path;\n    })\n  }\n\n  if(scopeCheck(\"remove\")){\n    setAction(\"remove\", \"delete\", function(params){\n      var path = c.config.crudUrls.remove.replace(\":id\", params.id);\n      delete params.id;\n      return c.config.path + path;\n    })\n  }\n\n  return c;\n}\n\nClient.config = {\n  crudUrls: {\n    create: \"\", \n    update: \"/:id\",\n    find: \"\",\n    findOne: \"/:id\",\n    remove: \"/:id\"\n  }\n}\n\nif(typeof jQuery != \"undefined\"){\n  Client.jQuery = jQuery;\n}else{\n  Client.jQuery = {};\n}\nmodule.exports = Client","var md5 = require(\"../node_modules/blueimp-md5/js/md5\");\n\nvar Model = function(options){\n  var model = {}\n  model.config = options\n  model.jQuery = Model.jQuery || {};\n  model.config.key = model.config.key || \"id\";\n  model.config.queName = 'default' \n  var setAction = function(action){\n    model[action] = function(queName, params, paramsTwo){\n      if(typeof model.jQuery == \"undefined\"){\n        throw \"jQuery must be attached to model to continue!\"\n      }\n      promise = model.jQuery.Deferred();\n\n      if(typeof queName != \"string\"){\n        paramsTwo = params;\n        params = queName;\n        queName = false\n      }\n\n      promise.sendParams = model.config.sendParams(params);\n      promise.sendParamsTwo = paramsTwo ? model.config.sendParams(paramsTwo) : '';\n      model.que = {};\n      queName = queName || model.config.queName;\n      storeKey = queName + action + \"-\"  + md5(promise.sendParams) + \"-\" + md5(promise.sendParamsTwo)\n      if(!model.config.store[storeKey]){\n        model.config.store[storeKey] = false\n        if(model.que[queName]){\n          model.que[queName].abort();\n        }\n        if(paramsTwo){\n          var ajax = model.config.client[action](promise.sendParams, promise.sendParamsTwo);\n        }else{\n          var ajax = model.config.client[action](promise.sendParams);\n        }\n        model.que[queName] = ajax;\n        ajax.then(function(response){\n          var processResponse = function(response){\n            var data = model.config.receiveParams(response);\n            data.model = model;\n            ActiveRecord(data);\n            return data;\n          }\n          if('length' in response){\n            var response = response.map(function(data){\n              return processResponse(data);\n            })\n          }else{\n            var response = processResponse(response);\n          }\n          var setObject = {};\n          model.config.store.set(action + \"-\" + md5(promise.sendParams), response);\n          promise.resolve(response);\n        })\n      }else{\n        promise.resolve(model.config.store[storeKey]);\n      }\n      model.config.store[action];\n\n      return promise;\n    }\n  \n  }\n  \n  var scopeCheck = function (scope){\n    return !model.config.scope || (model.config.scope && model.config.scope.replace(\", \", \" \").split(\" \").indexOf(scope) != -1);\n  }\n\n  if(scopeCheck(\"create\")){\n    setAction(\"create\")\n  }\n  if(scopeCheck(\"update\")){\n    setAction(\"update\")\n  }\n  if(scopeCheck(\"remove\")){\n    setAction(\"remove\")\n  }\n  if(scopeCheck(\"find\")){\n    setAction(\"find\")\n  }\n  if(scopeCheck(\"findOne\")){\n    setAction(\"findOne\")\n  }\n  var ActiveRecord = function(aro){\n    if(aro.model.update){\n      aro.save = function(){\n\n        var params = aro.model.config.sendParams(aro);\n\n        promise = model.jQuery.Deferred();\n        if(typeof aro[aro.model.config.key] == \"undefined\"){\n          throw \"Model key must exist! You have set your key to \"+aro.model.config.key +\" check receiveParams in client to make if using S.A. Wrapper Client\";\n        }\n\n        aro.model.update(aro[aro.model.config.key], params).then(function(response){\n          promise.resolve(ActiveRecord(aro.model.config.receiveParams(response)))\n        })\n        return promise;\n      }\n    }else{\n      aro.save = function(){\n        throw \"Update must be included in update scope to use AR save.\";\n      }\n    }\n  }\n\n  return model;\n}\n\nif(typeof jQuery != \"undefined\"){\n  Model.jQuery = jQuery;\n}\n\n\n\nmodule.exports = Model","var Store = (function() {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = {}\n  el.data = {};\n\n  el.persist = function(key, store){\n    if(!store){\n      store = key;\n      key = \"store\";\n    }\n    el.storeKey = key;\n    el.store = store;\n    if(el.store){\n      data = el.store.getItem(key);\n    }\n    if(data && el.store){\n      el.data = JSON.parse(el.store.getItem(el.storeKey));\n    }\n  }\n\n  /**\n   * Private variables and methods\n   */\n\n  var callbacks = {},\n    onEachEvent = function(e, fn) { e.replace(/\\S+/g, fn) },\n    defineProperty = function (key, value) {\n      Object.defineProperty(el, key, {\n        value: value,\n        enumerable: false,\n        writable: false,\n        configurable: false\n      })\n    },\n    processData = function(target, values){\n      if(el.model){\n        values = el.model(values)\n      }\n\n      target[key] = values\n      if(target == el){\n        target.trigger(\"set.\" + key, value)\n      }\n    }\n\n  /**\n   * Listen to the given space separated list of `events` and execute the `callback` each time an event is triggered.\n   * @param  { String } events - events ids\n   * @param  { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('on', function(events, fn) {\n    if (typeof fn != 'function')  return el\n\n    onEachEvent(events, function(name, pos) {\n      (callbacks[name] = callbacks[name] || []).push(fn)\n      fn.typed = pos > 0\n    })\n\n    return el\n  })\n\n  \n  /**\n   * Get data using key\n   * @param  { String } events - events ids\n   * @param  { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('get', function(target) {\n    var data = el.data[target] || {};\n    data.onChange = function(callback){\n\n      el.on('set.' + target, callback);\n\n      return { detach: function(){\n        el.off('set.' + target, callback);\n      }}\n    }\n    return data;\n  })\n\n\n  /**\n   * Set data on element\n   * @param  { String } events - events ids\n   * @param  { Anything } anything you want to attach\n   * @returns { Object } el\n   */\n  defineProperty('set', function(target, values) {\n    if(typeof values != \"object\"){\n      throw \"Target value must start with an object as the root node!\"\n    }\n    el.data[target] = values;\n    el.trigger(\"set.\"+target, el);\n    if(el.store){\n      el.store.setItem(el.storeKey, JSON.stringify(el.data));\n    }\n    var data = el.data[target]\n    data.onChange = function(callback){\n      el.on('set.' + target, callback);\n      return { detach: function(){\n        el.off(target, callback);\n      }}\n    }\n    return data;\n  })\n\n\n  /**\n   * Removes the given space separated list of `events` listeners\n   * @param   { String } events - events ids\n   * @param   { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('off', function(events, fn) {\n    if (events == '*') callbacks = {}\n    else {\n      onEachEvent(events, function(name) {\n        if (fn) {\n          var arr = callbacks[name]\n          for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n            if (cb == fn) arr.splice(i--, 1)\n          }\n        } else delete callbacks[name]\n      })\n    }\n    return el\n  })\n\n  /**\n   * Listen to the given space separated list of `events` and execute the `callback` at most once\n   * @param   { String } events - events ids\n   * @param   { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('one', function(events, fn) {\n    function on() {\n      el.off(events, on)\n      fn.apply(el, arguments)\n    }\n    return el.on(events, on)\n  })\n\n  /**\n   * Execute all callback functions that listen to the given space separated list of `events`\n   * @param   { String } events - events ids\n   * @returns { Object } el\n   */\n\n  defineProperty('trigger', function(events) {\n\n    // getting the arguments\n    // skipping the first one\n    var arglen = arguments.length - 1,\n      args = new Array(arglen)\n    for (var i = 0; i < arglen; i++) {\n      args[i] = arguments[i + 1]\n    }\n\n    onEachEvent(events, function(name) {\n\n      var fns = (callbacks[name] || []).slice(0)\n\n      for (var i = 0, fn; fn = fns[i]; ++i) {\n        if (fn.busy) return\n        fn.busy = 1\n\n        try {\n          fn.apply(el, fn.typed ? [name].concat(args) : args)\n        } catch (e) { el.trigger('error', e) }\n        if (fns[i] !== fn) { i-- }\n        fn.busy = 0\n      }\n\n      if (callbacks.all && name != 'all')\n        el.trigger.apply(el, ['all', name].concat(args))\n\n    })\n\n    return el\n  })\n\n  return el\n\n})()\n\nmodule.exports = Store"],"sourceRoot":"/source/"}
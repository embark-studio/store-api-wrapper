{"version":3,"sources":["client.js","model.js","store.js"],"names":["Client","config","c","path","jQuery","scope","replace","split","crudUrls","JSON","parse","stringify","scopeCheck","join","length","indexOf","setAction","actionName","type","params","paramsTwo","undefined","ajax","method","url","data","create","queryParams","update","id","find","findOne","remove","module","exports","md5","require","Model","options","model","key","queName","action","promise","Deferred","sendParams","sendParamsTwo","que","storeKey","store","abort","client","then","response","processResponse","receiveParams","ActiveRecord","map","setObject","set","resolve","aro","save","Store","dataKey","db","merge","currentData","get","Array","isArray","setDefault","push","sourceData","mergedData","concat","splice","increase","decrease","was","subDataKey","trigger","observable","remember","remembers","Object","keys","on","forEach","newTriggerName","toUpperCase","slice","var1","var2","ReactMixin","StoresMixin","getInitialState","stores","setStores","state","componentDidMount","detachables","onChange","setState","componentWillUnmount","detach","followChange","change","followStores","item","i","reactComponent","component","follow","keyAndStore","callback","newState","detachable","forget","storeName","opts","bind","dataWas","debug","storage","sessionStorage","setItem","getItem","e","console","log","$","safe_add","x","y","lsw","msw","bit_rol","num","cnt","md5_cmn","q","a","b","s","t","md5_ff","d","md5_gg","md5_hh","md5_ii","binl_md5","len","olda","oldb","oldc","oldd","binl2rstr","input","output","String","fromCharCode","rstr2binl","charCodeAt","rstr_md5","rstr_hmac_md5","bkey","ipad","opad","hash","rstr2hex","hex_tab","charAt","str2rstr_utf8","unescape","encodeURIComponent","raw_md5","hex_md5","raw_hmac_md5","k","hex_hmac_md5","string","raw","el","callbacks","onEachEvent","fn","defineProperty","value","enumerable","writable","configurable","events","name","pos","typed","arr","cb","off","apply","arguments","arglen","args","fns","busy","all","defaultData","triggerData","storageData","dataName","observe","react","oldComponenentWillUnmount","empty","blank","notBlank","isObject","isString","isNumber","isEqualTo"],"mappings":"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","file":"dist.js","sourcesContent":["var Client = function(config){\n  var c = {};\n\n  if(typeof config == \"string\"){\n    var c = {\n      config: {\n        path: config\n      }\n    }\n  }else{\n    var c = {\n      config: config\n    }\n  }\n\n  c.jQuery = Client.jQuery\n\n  c.config.scope = c.config.scope || \"\";\n  c.config.scope = c.config.scope.replace(\", \", \" \").split(\" \");\n  c.config.crudUrls = c.config.crudUrls || JSON.parse(JSON.stringify(Client.config.crudUrls));\n\n  var scopeCheck = function (scope){\n    return c.config.scope.join(\"\").length == 0 || c.config.scope.indexOf(scope) != -1;\n  }\n\n\n  var setAction = function(actionName, type, path){\n    c[actionName] = function(params, paramsTwo){\n      if(paramsTwo == undefined){\n        paramsTwo = params\n      }\n      return c.jQuery.ajax({\n        method: type,\n        url: path(params),\n        data: paramsTwo\n      })\n    }\n  }\n\n\n\n  if(scopeCheck(\"create\")){\n    setAction(\"create\", \"post\", function(){\n      return c.config.path + c.config.crudUrls.create\n    })\n  }\n\n  if(scopeCheck(\"update\")){\n    setAction(\"update\", \"put\", function(queryParams, params){\n      path = c.config.path + c.config.crudUrls.update.replace(\":id\", queryParams.id)\n      delete queryParams.id;\n      return path\n    })\n  }\n\n  if(scopeCheck(\"find\")){\n    setAction(\"find\", \"get\", function(){ return c.config.path + c.config.crudUrls.find})\n  }\n\n  if(scopeCheck(\"findOne\")){\n    setAction(\"findOne\", \"get\", function(params){\n      var path = c.config.crudUrls.findOne.replace(\":id\", params.id);\n      delete params.id;\n      return c.config.path + path;\n    })\n  }\n\n  if(scopeCheck(\"remove\")){\n    setAction(\"remove\", \"delete\", function(params){\n      var path = c.config.crudUrls.remove.replace(\":id\", params.id);\n      delete params.id;\n      return c.config.path + path;\n    })\n  }\n\n  return c;\n}\n\nClient.config = {\n  crudUrls: {\n    create: \"\",\n    update: \"/:id\",\n    find: \"\",\n    findOne: \"/:id\",\n    remove: \"/:id\"\n  }\n}\n\nif(typeof jQuery != \"undefined\"){\n  Client.jQuery = jQuery;\n}else{\n  Client.jQuery = {};\n}\nif(typeof module != \"undefined\"){\n  module.exports = Client\n}\n","var md5 = require(\"../node_modules/blueimp-md5/js/md5\");\n\nvar Model = function(options){\n  var model = {}\n  model.config = options\n  model.jQuery = Model.jQuery || {};\n  model.config.key = model.config.key || \"id\";\n  model.config.queName = 'default' \n  var setAction = function(action){\n    model[action] = function(queName, params, paramsTwo){\n      if(typeof model.jQuery == \"undefined\"){\n        throw \"jQuery must be attached to model to continue!\"\n      }\n      promise = model.jQuery.Deferred();\n\n      if(typeof queName != \"string\"){\n        paramsTwo = params;\n        params = queName;\n        queName = false\n      }\n\n      promise.sendParams = model.config.sendParams(params);\n      promise.sendParamsTwo = paramsTwo ? model.config.sendParams(paramsTwo) : '';\n      model.que = {};\n      queName = queName || model.config.queName;\n      storeKey = queName + action + \"-\"  + md5(promise.sendParams) + \"-\" + md5(promise.sendParamsTwo)\n      if(!model.config.store[storeKey]){\n        model.config.store[storeKey] = false\n        if(model.que[queName]){\n          model.que[queName].abort();\n        }\n        if(paramsTwo){\n          var ajax = model.config.client[action](promise.sendParams, promise.sendParamsTwo);\n        }else{\n          var ajax = model.config.client[action](promise.sendParams);\n        }\n        model.que[queName] = ajax;\n        ajax.then(function(response){\n          var processResponse = function(response){\n            var data = model.config.receiveParams(response);\n            data.model = model;\n            ActiveRecord(data);\n            return data;\n          }\n          if('length' in response){\n            var response = response.map(function(data){\n              return processResponse(data);\n            })\n          }else{\n            var response = processResponse(response);\n          }\n          var setObject = {};\n          model.config.store(action + \"-\" + md5(promise.sendParams)).set(response);\n          promise.resolve(response);\n        })\n      }else{\n        promise.resolve(model.config.store[storeKey]);\n      }\n      model.config.store[action];\n\n      return promise;\n    }\n  \n  }\n  \n  var scopeCheck = function (scope){\n    return !model.config.scope || (model.config.scope && model.config.scope.replace(\", \", \" \").split(\" \").indexOf(scope) != -1);\n  }\n\n  if(scopeCheck(\"create\")){\n    setAction(\"create\")\n  }\n  if(scopeCheck(\"update\")){\n    setAction(\"update\")\n  }\n  if(scopeCheck(\"remove\")){\n    setAction(\"remove\")\n  }\n  if(scopeCheck(\"find\")){\n    setAction(\"find\")\n  }\n  if(scopeCheck(\"findOne\")){\n    setAction(\"findOne\")\n  }\n  var ActiveRecord = function(aro){\n    if(aro.model.update){\n      aro.save = function(){\n\n        var params = aro.model.config.sendParams(aro);\n\n        promise = model.jQuery.Deferred();\n        if(typeof aro[aro.model.config.key] == \"undefined\"){\n          throw \"Model key must exist! You have set your key to \"+aro.model.config.key +\" check receiveParams in client to make if using S.A. Wrapper Client\";\n        }\n\n        aro.model.update(aro[aro.model.config.key], params).then(function(response){\n          promise.resolve(ActiveRecord(aro.model.config.receiveParams(response)))\n        })\n        return promise;\n      }\n    }else{\n      aro.save = function(){\n        throw \"Update must be included in update scope to use AR save.\";\n      }\n    }\n  }\n\n  return model;\n}\n\nif(typeof jQuery != \"undefined\"){\n  Model.jQuery = jQuery;\n}\n\n\n\nmodule.exports = Model","var Store = function(dataKey){\n  var store = {\n    dataKey: dataKey,\n    db: Store.db,\n    merge: function(data){\n      var currentData = this.db.get(this.dataKey);\n      if(!(typeof currentData == \"object\" && !Array.isArray(currentData))){\n        this.store(this.dataKey).set({})\n      }\n      return this.db.merge(this.dataKey, data);\n    },\n    setDefault: function(data){\n      return this.db.setDefault(this.dataKey, data);\n    },\n    set: function(data){\n      return this.db.set(this.dataKey, data);\n    },\n    push: function(data){\n      var sourceData = (this.db.get(this.dataKey) || []);\n      var mergedData = sourceData.concat([data]);\n      return this.db.set(this.dataKey, mergedData);\n    },\n    remove: function(data){\n      var sourceData = (this.db.get(this.dataKey) || []);\n      if(sourceData.indexOf(data) != -1){\n        sourceData.splice(sourceData.indexOf(data), 1);\n        return this.db.set(this.dataKey, sourceData);\n      }\n      return this.db.get(this.dataKey);\n    },\n    get: function(){\n      return this.db.get(this.dataKey);\n    },\n    increase: function(){\n      return this.db.increase(dataKey)\n    },\n    decrease: function(){\n      return this.db.decrease(dataKey)\n    },\n    was: function(){\n      return this.db.was(dataKey)\n    },\n    store: function(subDataKey){\n      return Store(this.dataKey + \".\" + subDataKey)\n    },\n    trigger: function(action){\n      return this.db.observable.trigger(this.dataKey + \".\" + action);\n    },\n    remember: function(){\n      this.db.remembers.push(this.dataKey)\n    }\n  }\n\n  Object.keys(Store.db.on(dataKey)).forEach(function(key){\n    var newTriggerName = \"on\" + key[0].toUpperCase() + key.slice(1, key.length)\n    store[newTriggerName] = function(var1, var2){\n      return store.db.on(dataKey)[key](var1, var2);\n    }\n  })\n\n  return store;\n}\nStore.ReactMixin = StoresMixin = {\n  getInitialState: function(){\n    this.stores = this.stores || {}\n    this.setStores();\n\n    var state = {};\n    var c = this;\n    Object.keys(this.stores).forEach(function(key){\n      var store = c.stores[key];\n      state[key] = store.get();\n    })\n\n    return state;\n  },\n\n  componentDidMount: function(){\n    c = this\n    Object.keys(this.stores).forEach(function(key){\n      var store = c.stores[key];\n\n      (function(key, store){\n          c.detachables.push(store.onChange(function(){\n            var state = {};\n            state[key] = store.get();\n\n            c.setState(JSON.parse(JSON.stringify(state)));\n          }))\n      })(key, store)\n    })\n  },\n\n  componentWillUnmount: function(){\n    this.detachables = this.detachables || []\n    this.detachables.forEach(function(store){\n      store.detach()\n    })\n  },\n\n  followChange: function(change){\n    this.detachables.push(change)\n  },\n\n  setStores: function(){\n    this.detachables = [];\n    var followStores = {}\n\n    if(typeof this.followStores == \"function\"){\n      followStores = this.followStores()\n    }else {\n      followStores = this.followStores\n    }\n\n    if(followStores instanceof Array){\n      followStores.forEach(function(item, i){\n        if(i==0){\n          followStores = {}\n        }\n        followStores[item] = item\n      })\n    }\n\n    var followStores = followStores || {};\n\n    c = this;\n\n    Object.keys(followStores).forEach(function(key){\n\n      c.stores[key] = Store(followStores[key])\n    })\n  }\n}\n\nStore.reactComponent = function(component){\n  var component = component;\n  component.stores = component.stores || {};\n  component.store = Store;\n  component.detachables = this.detachables || [];\n  component.stores.follow = function(keyAndStore){\n    var key = Object.keys(keyAndStore)[0];\n    var store = keyAndStore[key];\n    var stores = this;\n    stores[key] = component.store(store);\n    callback = function(data){\n      var data = component.store(store).get();\n      var newState = {};\n      newState[key] = data;\n      component.setState(newState);\n    }\n    callback();\n    var detachable = component.store(store).onChange(callback);\n    stores[key].forget = function(){ detachable.detach() };\n    component.stores.detachables = component.stores.detachables || [];\n    component.stores.detachables.push(detachable);\n  }\n  component.stores.forget = function(storeName){\n    this.detachables.forEach(function(store){\n      store.detach();\n    })\n  }\n  componentWillUnmount = component.componentWillUnmount || function(){};\n  component.componentWillUnmount = function(opts){\n    component.stores.forget();\n    componentWillUnmount.bind(component, opts);\n  }\n  return component;\n}\n\nStore.db = (function(store) {\n\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   SETUP\n   ***\n   *****************************************************\n   *****************************************************/\n\n  store.observable = {};\n  store.data = {};\n  store.dataWas = {};\n  store.debug = false\n\n  store.storage = function(set, get){\n    this.storage.set = set;\n    this.storage.get = get;\n    if(get){\n      this.data = this.storage.get();\n    }\n  }\n\n  if(typeof sessionStorage != \"undefined\"){\n    store.sessionStorage = sessionStorage;\n  }\n  if(store.sessionStorage){\n    store.sessionStorage = sessionStorage;\n    store.storage.set = function(data){\n      store.sessionStorage.setItem(\"observable-store\", JSON.stringify(data));\n    }\n\n    store.storage.get = function(data){\n      if(store.sessionStorage.getItem(\"observable-store\")){\n        return JSON.parse(store.sessionStorage.getItem(\"observable-store\"));\n      }\n    }\n\n    if(store.storage.get()){\n      store.data = store.storage.get();\n    }\n\n    try{\n      if(store.sessionStorage.getItem(\"observable-store\")){\n        store.storage.get(JSON.parse(store.sessionStorage.getItem(\"observable-store\")));\n      }\n    }catch(e){\n      console.log(e)\n    }\n  }\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   MD5\n   ***\n   *****************************************************\n   *****************************************************/\n\n  store.md5 = (function ($) {\n    'use strict'\n\n    /*\n    * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n    * to work around bugs in some JS interpreters.\n    */\n    function safe_add (x, y) {\n      var lsw = (x & 0xFFFF) + (y & 0xFFFF)\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n      return (msw << 16) | (lsw & 0xFFFF)\n    }\n\n    /*\n    * Bitwise rotate a 32-bit number to the left.\n    */\n    function bit_rol (num, cnt) {\n      return (num << cnt) | (num >>> (32 - cnt))\n    }\n\n    /*\n    * These functions implement the four basic operations the algorithm uses.\n    */\n    function md5_cmn (q, a, b, x, s, t) {\n      return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b)\n    }\n    function md5_ff (a, b, c, d, x, s, t) {\n      return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t)\n    }\n    function md5_gg (a, b, c, d, x, s, t) {\n      return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t)\n    }\n    function md5_hh (a, b, c, d, x, s, t) {\n      return md5_cmn(b ^ c ^ d, a, b, x, s, t)\n    }\n    function md5_ii (a, b, c, d, x, s, t) {\n      return md5_cmn(c ^ (b | (~d)), a, b, x, s, t)\n    }\n\n    /*\n    * Calculate the MD5 of an array of little-endian words, and a bit length.\n    */\n    function binl_md5 (x, len) {\n      /* append padding */\n      x[len >> 5] |= 0x80 << (len % 32)\n      x[(((len + 64) >>> 9) << 4) + 14] = len\n\n      var i\n      var olda\n      var oldb\n      var oldc\n      var oldd\n      var a = 1732584193\n      var b = -271733879\n      var c = -1732584194\n      var d = 271733878\n\n      for (i = 0; i < x.length; i += 16) {\n        olda = a\n        oldb = b\n        oldc = c\n        oldd = d\n\n        a = md5_ff(a, b, c, d, x[i], 7, -680876936)\n        d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586)\n        c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819)\n        b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330)\n        a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897)\n        d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426)\n        c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341)\n        b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983)\n        a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416)\n        d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417)\n        c = md5_ff(c, d, a, b, x[i + 10], 17, -42063)\n        b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162)\n        a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682)\n        d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101)\n        c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290)\n        b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n        a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510)\n        d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632)\n        c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713)\n        b = md5_gg(b, c, d, a, x[i], 20, -373897302)\n        a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691)\n        d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083)\n        c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335)\n        b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848)\n        a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438)\n        d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690)\n        c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961)\n        b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501)\n        a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467)\n        d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784)\n        c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473)\n        b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n        a = md5_hh(a, b, c, d, x[i + 5], 4, -378558)\n        d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463)\n        c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562)\n        b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556)\n        a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060)\n        d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353)\n        c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632)\n        b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640)\n        a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174)\n        d = md5_hh(d, a, b, c, x[i], 11, -358537222)\n        c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979)\n        b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189)\n        a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487)\n        d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835)\n        c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520)\n        b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n        a = md5_ii(a, b, c, d, x[i], 6, -198630844)\n        d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415)\n        c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905)\n        b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055)\n        a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571)\n        d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606)\n        c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523)\n        b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799)\n        a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359)\n        d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744)\n        c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380)\n        b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649)\n        a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070)\n        d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379)\n        c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259)\n        b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n        a = safe_add(a, olda)\n        b = safe_add(b, oldb)\n        c = safe_add(c, oldc)\n        d = safe_add(d, oldd)\n      }\n      return [a, b, c, d]\n    }\n\n    /*\n    * Convert an array of little-endian words to a string\n    */\n    function binl2rstr (input) {\n      var i\n      var output = ''\n      for (i = 0; i < input.length * 32; i += 8) {\n        output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF)\n      }\n      return output\n    }\n\n    /*\n    * Convert a raw string to an array of little-endian words\n    * Characters >255 have their high-byte silently ignored.\n    */\n    function rstr2binl (input) {\n      var i\n      var output = []\n      output[(input.length >> 2) - 1] = undefined\n      for (i = 0; i < output.length; i += 1) {\n        output[i] = 0\n      }\n      for (i = 0; i < input.length * 8; i += 8) {\n        output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32)\n      }\n      return output\n    }\n\n    /*\n    * Calculate the MD5 of a raw string\n    */\n    function rstr_md5 (s) {\n      return binl2rstr(binl_md5(rstr2binl(s), s.length * 8))\n    }\n\n    /*\n    * Calculate the HMAC-MD5, of a key and some data (raw strings)\n    */\n    function rstr_hmac_md5 (key, data) {\n      var i\n      var bkey = rstr2binl(key)\n      var ipad = []\n      var opad = []\n      var hash\n      ipad[15] = opad[15] = undefined\n      if (bkey.length > 16) {\n        bkey = binl_md5(bkey, key.length * 8)\n      }\n      for (i = 0; i < 16; i += 1) {\n        ipad[i] = bkey[i] ^ 0x36363636\n        opad[i] = bkey[i] ^ 0x5C5C5C5C\n      }\n      hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n      return binl2rstr(binl_md5(opad.concat(hash), 512 + 128))\n    }\n\n    /*\n    * Convert a raw string to a hex string\n    */\n    function rstr2hex (input) {\n      var hex_tab = '0123456789abcdef'\n      var output = ''\n      var x\n      var i\n      for (i = 0; i < input.length; i += 1) {\n        x = input.charCodeAt(i)\n        output += hex_tab.charAt((x >>> 4) & 0x0F) +\n        hex_tab.charAt(x & 0x0F)\n      }\n      return output\n    }\n\n    /*\n    * Encode a string as utf-8\n    */\n    function str2rstr_utf8 (input) {\n      return unescape(encodeURIComponent(input))\n    }\n\n    /*\n    * Take string arguments and return either raw or hex encoded strings\n    */\n    function raw_md5 (s) {\n      return rstr_md5(str2rstr_utf8(s))\n    }\n    function hex_md5 (s) {\n      return rstr2hex(raw_md5(s))\n    }\n    function raw_hmac_md5 (k, d) {\n      return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d))\n    }\n    function hex_hmac_md5 (k, d) {\n      return rstr2hex(raw_hmac_md5(k, d))\n    }\n\n    function md5 (string, key, raw) {\n      if (!key) {\n        if (!raw) {\n          return hex_md5(string)\n        }\n        return raw_md5(string)\n      }\n      if (!raw) {\n        return hex_hmac_md5(key, string)\n      }\n      return raw_hmac_md5(key, string)\n    }\n\n    return md5;\n  })()\n\n  var md5 = store.md5;\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   OBSERVABLE\n   ***\n   *****************************************************\n   *****************************************************/\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  var el = store.observable;\n\n  /**\n   * Private variables and methods\n   */\n\n  var callbacks = {},\n    onEachEvent = function(e, fn) { e.replace(/\\S+/g, fn) },\n    defineProperty = function (key, value) {\n      Object.defineProperty(el, key, {\n        value: value,\n        enumerable: false,\n        writable: false,\n        configurable: false\n      })\n    }\n\n  /**\n   * Listen to the given space separated list of `events` and execute the `callback` each time an event is triggered.\n   * @param  { String } events - events ids\n   * @param  { Function } fn - callback function\n   * @returns { Object } el\n   */\n  defineProperty('on', function(events, fn) {\n    if (typeof fn != 'function')  return el\n\n    onEachEvent(events, function(name, pos) {\n      (callbacks[name] = callbacks[name] || []).push(fn)\n      fn.typed = pos > 0\n    })\n\n    return el\n  })\n\n  /**\n   * Removes the given space separated list of `events` listeners\n   * @param   { String } events - events ids\n   * @param   { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('off', function(events, fn) {\n    if (events == '*') callbacks = {}\n    else {\n      onEachEvent(events, function(name) {\n        if (fn) {\n          var arr = callbacks[name]\n          for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n            if (cb == fn) arr.splice(i--, 1)\n          }\n        } else delete callbacks[name]\n      })\n    }\n    return el\n  })\n\n  /**\n   * Listen to the given space separated list of `events` and execute the `callback` at most once\n   * @param   { String } events - events ids\n   * @param   { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('one', function(events, fn) {\n    function on() {\n      el.off(events, on)\n      fn.apply(el, arguments)\n    }\n    return el.on(events, on)\n  })\n\n  /**\n   * Execute all callback functions that listen to the given space separated list of `events`\n   * @param   { String } events - events ids\n   * @returns { Object } el\n   */\n\n  defineProperty('trigger', function(events) {\n\n    // getting the arguments\n    // skipping the first one\n    var arglen = arguments.length - 1,\n      args = new Array(arglen)\n    for (var i = 0; i < arglen; i++) {\n      args[i] = arguments[i + 1]\n    }\n\n    onEachEvent(events, function(name) {\n\n      var fns = (callbacks[name] || []).slice(0)\n\n      for (var i = 0, fn; fn = fns[i]; ++i) {\n        if (fn.busy) return\n        fn.busy = 1\n\n        try {\n          fn.apply(el, fn.typed ? [name].concat(args) : args)\n        } catch (e) { el.trigger('error', e) }\n        if (fns[i] !== fn) { i-- }\n        fn.busy = 0\n      }\n\n      if (callbacks.all && name != 'all')\n        el.trigger.apply(el, ['all', name].concat(args))\n\n    })\n\n    return el\n  })\n\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   STORE FUNCTIONALITY\n   ***\n   *****************************************************\n   *****************************************************/\n  // PERSISTENT STORAGE\n  store.remembers = [];\n\n  store.trigger = function(name){\n    this.observable.trigger()\n  }\n  store.get = function(name){\n    var data = this.data[name]\n\n    if(typeof data == \"object\"){\n      data = JSON.parse(JSON.stringify(data))\n    }\n\n    return data;\n  }\n  store.was = function(name){\n    return this.dataWas[name];\n  }\n  store.setDefault = function(name, defaultData){\n    var data = this.data[name] || defaultData;\n    return store.set(name, data);\n  }\n  store.merge = function(name, data){\n    var dataWas = JSON.parse(JSON.stringify(this.get(name)));\n    if(typeof data != \"object\" || (typeof data == \"object \" && \"length\" in data)){\n      throw \"Merge requires params to be object\";\n    }\n    if(typeof dataWas != \"object\" || (typeof dataWas == \"object \" && \"length\" in data)){\n      throw \"Merge requires source data to be object\";\n    }\n\n\n    Object.keys(data).forEach(function(key){\n      dataWas[key] = data[key];\n    })\n\n    this.set(name, dataWas);\n\n  }\n\n  store.set = function(name, data){\n    this.dataWas[name] = this.data[name]\n    this.data[name] = data;\n\n    if(!this.dataWas[name] || this.dataWas[name] != data){\n      this.observable.trigger(name + '.change')\n    }else if(this.dataWas[name] && this.dataWas[name] == data){\n      this.observable.trigger(name + '.update')\n    }\n    if(!this.dataWas[name]){\n      this.observable.trigger(name + '.create')\n    }\n    if(this.dataWas[name] && !this.data[name]){\n      this.observable.trigger(name + '.empty')\n    }\n    if(this.dataWas[name] && (this.data[name] == '' || !this.data[name])){\n      this.observable.trigger(name + '.blank')\n    }\n    if(this.data[name] != '' && this.data[name]){\n      this.observable.trigger(name + '.notBlank')\n    }\n\n    if(typeof this.data[name] == \"object\" && !(Array.isArray(this.data[name]))){\n      this.observable.trigger(name + '.isObject')\n    }\n\n    if(typeof this.data[name] == \"object\" && Array.isArray(this.data[name])){\n      this.observable.trigger(name + '.isArray')\n    }\n\n    if(typeof this.data[name] == \"string\"){\n      this.observable.trigger(name + '.isString')\n    }\n\n    if(typeof this.data[name] == \"number\"){\n      this.observable.trigger(name + '.isNumber')\n    }\n\n    if(typeof this.data[name] == \"number\" && this.data[name] > this.dataWas[name]){\n      this.observable.trigger(name + '.increase')\n    }\n\n    if(typeof this.data[name] == \"number\" && this.data[name] < this.dataWas[name]){\n      this.observable.trigger(name + '.decrease')\n    }\n\n    if(typeof this.data[name] == \"object\"){\n      triggerData = JSON.stringify(this.data[name]);\n    }else{\n      triggerData = this.data[name];\n    }\n\n    this.observable.trigger(name + \".\" + md5(triggerData))\n\n    this.observable.trigger(name)\n    this.observable.trigger(\"update\")\n\n    if(store.storage.get && store.storage.set){\n      var storageData = store.storage.get() || {};\n      db = this\n\n      this.remembers.forEach(function(dataName){\n        storageData[dataName] = db.data[dataName];\n      })\n\n      if(Object.keys(storageData).length != 0 && store.storage.set && this.remembers.length != 0){\n        store.storage.set(storageData);\n      }\n    }\n\n    return this.data[name];\n  }\n\n  store.increase = function(name){\n    this.data[name] = this.data[name] || 0;\n    if(typeof this.data[name] == \"number\"){\n      this.set(name, this.data[name] + 1)\n    }\n  }\n  store.decrease = function(name){\n    this.data[name] = this.data[name] || 0;\n    if(typeof this.data[name] == \"number\"){\n      this.set(name, this.data[name] - 1)\n    }\n  }\n\n  store.on = function(name){\n    var store = this;\n    var observable = {};\n    observable.name = name;\n    observable.observe = function(trigger, callback){\n        var detachable = {};\n        if(typeof trigger == 'function'){\n          callback = trigger;\n          trigger = undefined;\n        }\n        if(trigger){\n          detachable.trigger = observable.name + '.' + trigger;\n        }else{\n          detachable.trigger = observable.name;\n        }\n        if(typeof callback == \"function\"){\n          callback = callback.bind(store)\n        }\n        detachable.callback = callback;\n        store.observable.on(detachable.trigger, callback);\n        detachable.detach = function(){\n          return store.observable.off(detachable.trigger, this.callback);\n        }\n        detachable.react = function(component){\n          oldComponenentWillUnmount = component.componentWillUnmount\n          component.componentWillUnmount = function(){\n            if(oldComponenentWillUnmount){\n              oldComponenentWillUnmount.bind(component)\n            }\n            detachable.detach()\n          }\n          return store.observable.off(detachable.trigger, this.callback);\n        }\n        return detachable\n    }\n    observable.update = function(callback){\n      return this.observe('update', callback);\n    }\n    observable.change = function(callback){\n      return this.observe('change', callback);\n    }\n    observable.empty = function(callback){\n      return this.observe('empty', callback);\n    }\n    observable.blank = function(callback){\n      return this.observe('blank', callback);\n    }\n    observable.create = function(callback){\n      return this.observe('create', callback);\n    }\n    observable.notBlank = function(callback){\n      return this.observe('notBlank', callback);\n    }\n    observable.isObject = function(callback){\n      return this.observe('isObject', callback);\n    }\n    observable.isArray = function(callback){\n      return this.observe('isArray', callback);\n    }\n    observable.isString = function(callback){\n      return this.observe('isString', callback);\n    }\n    observable.isNumber = function(callback){\n      return this.observe('isNumber', callback);\n    }\n    observable.increase = function(callback){\n      return this.observe('increase', callback);\n    }\n    observable.decrease = function(callback){\n      return this.observe('decrease', callback);\n    }\n    observable.isEqualTo = function(value, callback){\n      if(typeof value == \"object\"){\n        value = JSON.stringify(value)\n      }\n      return this.observe(md5(value), callback);\n    }\n    return observable;\n  }\n  return store;\n})({})\nif(typeof module != 'undefined' && module.exports){\n  module.exports = Store;\n}\n"],"sourceRoot":"/source/"}
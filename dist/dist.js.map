{"version":3,"sources":["client.js","store.js"],"names":["Client","config","c","path","jQuery","scope","replace","split","crudUrls","JSON","parse","stringify","scopeCheck","join","length","indexOf","setAction","actionName","type","params","paramsTwo","undefined","ajax","method","url","data","create","queryParams","update","id","find","findOne","remove","module","exports","Store","dataKey","store","db","merge","currentData","get","Array","isArray","set","setDefault","push","sourceData","mergedData","concat","splice","increase","decrease","was","subDataKey","trigger","action","observable","remember","remembers","storage","Object","keys","on","forEach","key","newTriggerName","toUpperCase","slice","var1","var2","ReactMixin","StoresMixin","getInitialState","stores","setStores","state","componentDidMount","callback","setState","detachables","onChange","componentWillUnmount","detach","followChange","change","followStores","fs","item","reactComponent","component","follow","keyAndStore","newState","detachable","forget","opts","bind","dataWas","debug","setRemembers","rememberer","sessionStorage","setItem","getItem","e","console","log","md5","$","safe_add","x","y","lsw","msw","bit_rol","num","cnt","md5_cmn","q","a","b","s","t","md5_ff","d","md5_gg","md5_hh","md5_ii","binl_md5","len","i","olda","oldb","oldc","oldd","binl2rstr","input","output","String","fromCharCode","rstr2binl","charCodeAt","rstr_md5","rstr_hmac_md5","bkey","ipad","opad","hash","rstr2hex","hex_tab","charAt","str2rstr_utf8","unescape","encodeURIComponent","raw_md5","hex_md5","raw_hmac_md5","k","hex_hmac_md5","string","raw","el","callbacks","onEachEvent","fn","defineProperty","value","enumerable","writable","configurable","events","name","pos","typed","arr","cb","off","apply","arguments","arglen","args","fns","busy","all","defaultData","triggerData","storageData","dataName","observe","react","oldComponenentWillUnmount","empty","blank","notBlank","isObject","isString","isNumber","isEqualTo"],"mappings":"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","file":"dist.js","sourcesContent":["var Client = function(config){\n  var c = {};\n\n  if(typeof config == \"string\"){\n    var c = {\n      config: {\n        path: config\n      }\n    }\n  }else{\n    var c = {\n      config: config\n    }\n  }\n\n  c.jQuery = Client.jQuery\n\n  c.config.scope = c.config.scope || \"\";\n  c.config.scope = c.config.scope.replace(\", \", \" \").split(\" \");\n  c.config.crudUrls = c.config.crudUrls || JSON.parse(JSON.stringify(Client.config.crudUrls));\n\n  var scopeCheck = function (scope){\n    return c.config.scope.join(\"\").length == 0 || c.config.scope.indexOf(scope) != -1;\n  }\n\n\n  var setAction = function(actionName, type, path){\n    c[actionName] = function(params, paramsTwo){\n      if(paramsTwo == undefined){\n        paramsTwo = params\n      }\n      return c.jQuery.ajax({\n        method: type,\n        url: path(params),\n        data: paramsTwo\n      })\n    }\n  }\n\n\n\n  if(scopeCheck(\"create\")){\n    setAction(\"create\", \"post\", function(){\n      return c.config.path + c.config.crudUrls.create\n    })\n  }\n\n  if(scopeCheck(\"update\")){\n    setAction(\"update\", \"put\", function(queryParams, params){\n      path = c.config.path + c.config.crudUrls.update.replace(\":id\", queryParams.id)\n      delete queryParams.id;\n      return path\n    })\n  }\n\n  if(scopeCheck(\"find\")){\n    setAction(\"find\", \"get\", function(){ return c.config.path + c.config.crudUrls.find})\n  }\n\n  if(scopeCheck(\"findOne\")){\n    setAction(\"findOne\", \"get\", function(params){\n      var path = c.config.crudUrls.findOne.replace(\":id\", params.id);\n      delete params.id;\n      return c.config.path + path;\n    })\n  }\n\n  if(scopeCheck(\"remove\")){\n    setAction(\"remove\", \"delete\", function(params){\n      var path = c.config.crudUrls.remove.replace(\":id\", params.id);\n      delete params.id;\n      return c.config.path + path;\n    })\n  }\n\n  return c;\n}\n\nClient.config = {\n  crudUrls: {\n    create: \"\",\n    update: \"/:id\",\n    find: \"\",\n    findOne: \"/:id\",\n    remove: \"/:id\"\n  }\n}\n\nif(typeof jQuery != \"undefined\"){\n  Client.jQuery = jQuery;\n}else{\n  Client.jQuery = {};\n}\nif(typeof module != \"undefined\"){\n  module.exports = Client\n}\n","var Store = function(dataKey){\n  var store = {\n    dataKey: dataKey,\n    db: Store.db,\n    merge: function(data){\n      var currentData = this.db.get(this.dataKey);\n      if(!(typeof currentData == \"object\" && !Array.isArray(currentData))){\n        this.store(this.dataKey).set({})\n      }\n      return this.db.merge(this.dataKey, data);\n    },\n    setDefault: function(data){\n      return this.db.setDefault(this.dataKey, data);\n    },\n    set: function(data){\n      return this.db.set(this.dataKey, data);\n    },\n    push: function(data){\n      var sourceData = (this.db.get(this.dataKey) || []);\n      var mergedData = sourceData.concat([data]);\n      return this.db.set(this.dataKey, mergedData);\n    },\n    remove: function(data){\n      var sourceData = (this.db.get(this.dataKey) || []);\n      if(sourceData.indexOf(data) != -1){\n        sourceData.splice(sourceData.indexOf(data), 1);\n        return this.db.set(this.dataKey, sourceData);\n      }\n      return this.db.get(this.dataKey);\n    },\n    get: function(){\n      return this.db.get(this.dataKey);\n    },\n    increase: function(){\n      return this.db.increase(dataKey)\n    },\n    decrease: function(){\n      return this.db.decrease(dataKey)\n    },\n    was: function(){\n      return this.db.was(dataKey)\n    },\n    store: function(subDataKey){\n      return Store(this.dataKey + \".\" + subDataKey)\n    },\n    trigger: function(action){\n      return this.db.observable.trigger(this.dataKey + \".\" + action);\n    },\n    remember: function(){\n      this.db.remembers.push(this.dataKey)\n\n      var data = this.db.storage.get();\n      if(data && data[this.dataKey]){\n        this.db.data[this.dataKey] = data[this.dataKey];\n      }\n    }\n  }\n\n  Object.keys(Store.db.on(dataKey)).forEach(function(key){\n    var newTriggerName = \"on\" + key[0].toUpperCase() + key.slice(1, key.length)\n    store[newTriggerName] = function(var1, var2){\n      return store.db.on(dataKey)[key](var1, var2);\n    }\n  })\n\n  return store;\n}\nStore.ReactMixin = StoresMixin = {\n  getInitialState: function(){\n    this.stores = this.stores || {}\n    this.setStores();\n\n    var state = {};\n    var c = this;\n    Object.keys(this.stores).forEach(function(key){\n      var store = c.stores[key];\n      state[key] = store.get();\n    })\n\n    return state;\n  },\n\n  componentDidMount: function(){\n    var c = this\n    Object.keys(this.stores).forEach(function(key){\n      var store = c.stores[key];\n\n      callback = function(){\n        var state = {};\n        state[key] = store.get();\n\n        c.setState(state);\n      }\n\n      c.detachables.push(store.onChange(callback))\n    })\n  },\n\n  componentWillUnmount: function(){\n    this.detachables = this.detachables || []\n    this.detachables.forEach(function(store){\n      store.detach()\n    })\n  },\n\n  followChange: function(change){\n    this.detachables.push(change)\n  },\n\n  setStores: function(){\n    this.detachables = [];\n    var followStores = {}\n\n    if(typeof this.followStores == \"function\"){\n      followStores = this.followStores()\n    }else {\n      followStores = this.followStores\n    }\n\n    if(followStores instanceof Array){\n      var fs = followStores;\n      followStores = {};\n      fs.forEach(function(item){\n        if(item instanceof Object) {\n          key = Object.keys(item)[0];\n          followStores[key] = item[key];\n        }else{\n          followStores[item] = item;\n        }\n      })\n    }\n\n    var followStores = followStores || {};\n\n    var c = this;\n\n    Object.keys(followStores).forEach(function(key){\n\n      c.stores[key] = Store(followStores[key])\n    })\n  }\n}\n\nStore.reactComponent = function(component){\n  var component = component;\n  component.stores = component.stores || {};\n  component.store = Store;\n  component.detachables = this.detachables || [];\n  component.stores.follow = function(keyAndStore){\n    var key = Object.keys(keyAndStore)[0];\n    var store = keyAndStore[key];\n    var stores = this;\n    stores[key] = component.store(store);\n    callback = function(data){\n      var data = component.store(store).get();\n      var newState = {};\n      newState[key] = data;\n      component.setState(newState);\n    }\n    callback();\n    var detachable = component.store(store).onChange(callback);\n    stores[key].forget = function(){ detachable.detach() };\n    component.stores.detachables = component.stores.detachables || [];\n    component.stores.detachables.push(detachable);\n  }\n  component.stores.forget = function(){\n    this.detachables.forEach(function(store){\n      store.detach();\n    })\n  }\n  componentWillUnmount = component.componentWillUnmount || function(){};\n  component.componentWillUnmount = function(opts){\n    component.stores.forget();\n    componentWillUnmount.bind(component, opts);\n  }\n  return component;\n}\n\nStore.db = (function(store) {\n\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   SETUP\n   ***\n   *****************************************************\n   *****************************************************/\n\n  store.observable = {};\n  store.data = {};\n  store.dataWas = {};\n  store.debug = false\n  store.remembers = [];\n  store.setRemembers = function(){\n    store.remembers.forEach(function(rememberer){\n      store.data[rememberer] = (store.storage.get() || {})[rememberer];\n    })\n  }\n\n  store.storage = function(set, get){\n    this.storage.set = set;\n    this.storage.get = get;\n    if(get){\n      store.setRemembers();\n    }\n  }\n\n  if(typeof sessionStorage != \"undefined\"){\n    store.sessionStorage = sessionStorage;\n  }\n\n  if(store.sessionStorage){\n    store.sessionStorage = sessionStorage;\n    store.storage.set = function(data){\n      store.sessionStorage.setItem(\"observable-store\", JSON.stringify(data));\n    }\n\n    store.storage.get = function(data){\n      if(store.sessionStorage.getItem(\"observable-store\")){\n        return JSON.parse(store.sessionStorage.getItem(\"observable-store\"));\n      }\n    }\n\n    if(store.storage.get()){\n      store.setRemembers()\n    }\n\n    try{\n      if(store.sessionStorage.getItem(\"observable-store\")){\n        store.storage.get(JSON.parse(store.sessionStorage.getItem(\"observable-store\")));\n      }\n    }catch(e){\n      console.log(e)\n    }\n  }\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   MD5\n   ***\n   *****************************************************\n   *****************************************************/\n\n  store.md5 = (function ($) {\n    'use strict'\n\n    /*\n    * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n    * to work around bugs in some JS interpreters.\n    */\n    function safe_add (x, y) {\n      var lsw = (x & 0xFFFF) + (y & 0xFFFF)\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n      return (msw << 16) | (lsw & 0xFFFF)\n    }\n\n    /*\n    * Bitwise rotate a 32-bit number to the left.\n    */\n    function bit_rol (num, cnt) {\n      return (num << cnt) | (num >>> (32 - cnt))\n    }\n\n    /*\n    * These functions implement the four basic operations the algorithm uses.\n    */\n    function md5_cmn (q, a, b, x, s, t) {\n      return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b)\n    }\n    function md5_ff (a, b, c, d, x, s, t) {\n      return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t)\n    }\n    function md5_gg (a, b, c, d, x, s, t) {\n      return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t)\n    }\n    function md5_hh (a, b, c, d, x, s, t) {\n      return md5_cmn(b ^ c ^ d, a, b, x, s, t)\n    }\n    function md5_ii (a, b, c, d, x, s, t) {\n      return md5_cmn(c ^ (b | (~d)), a, b, x, s, t)\n    }\n\n    /*\n    * Calculate the MD5 of an array of little-endian words, and a bit length.\n    */\n    function binl_md5 (x, len) {\n      /* append padding */\n      x[len >> 5] |= 0x80 << (len % 32)\n      x[(((len + 64) >>> 9) << 4) + 14] = len\n\n      var i\n      var olda\n      var oldb\n      var oldc\n      var oldd\n      var a = 1732584193\n      var b = -271733879\n      var c = -1732584194\n      var d = 271733878\n\n      for (i = 0; i < x.length; i += 16) {\n        olda = a\n        oldb = b\n        oldc = c\n        oldd = d\n\n        a = md5_ff(a, b, c, d, x[i], 7, -680876936)\n        d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586)\n        c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819)\n        b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330)\n        a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897)\n        d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426)\n        c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341)\n        b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983)\n        a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416)\n        d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417)\n        c = md5_ff(c, d, a, b, x[i + 10], 17, -42063)\n        b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162)\n        a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682)\n        d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101)\n        c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290)\n        b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n        a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510)\n        d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632)\n        c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713)\n        b = md5_gg(b, c, d, a, x[i], 20, -373897302)\n        a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691)\n        d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083)\n        c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335)\n        b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848)\n        a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438)\n        d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690)\n        c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961)\n        b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501)\n        a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467)\n        d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784)\n        c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473)\n        b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n        a = md5_hh(a, b, c, d, x[i + 5], 4, -378558)\n        d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463)\n        c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562)\n        b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556)\n        a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060)\n        d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353)\n        c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632)\n        b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640)\n        a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174)\n        d = md5_hh(d, a, b, c, x[i], 11, -358537222)\n        c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979)\n        b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189)\n        a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487)\n        d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835)\n        c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520)\n        b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n        a = md5_ii(a, b, c, d, x[i], 6, -198630844)\n        d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415)\n        c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905)\n        b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055)\n        a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571)\n        d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606)\n        c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523)\n        b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799)\n        a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359)\n        d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744)\n        c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380)\n        b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649)\n        a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070)\n        d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379)\n        c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259)\n        b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n        a = safe_add(a, olda)\n        b = safe_add(b, oldb)\n        c = safe_add(c, oldc)\n        d = safe_add(d, oldd)\n      }\n      return [a, b, c, d]\n    }\n\n    /*\n    * Convert an array of little-endian words to a string\n    */\n    function binl2rstr (input) {\n      var i\n      var output = ''\n      for (i = 0; i < input.length * 32; i += 8) {\n        output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF)\n      }\n      return output\n    }\n\n    /*\n    * Convert a raw string to an array of little-endian words\n    * Characters >255 have their high-byte silently ignored.\n    */\n    function rstr2binl (input) {\n      var i\n      var output = []\n      output[(input.length >> 2) - 1] = undefined\n      for (i = 0; i < output.length; i += 1) {\n        output[i] = 0\n      }\n      for (i = 0; i < input.length * 8; i += 8) {\n        output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32)\n      }\n      return output\n    }\n\n    /*\n    * Calculate the MD5 of a raw string\n    */\n    function rstr_md5 (s) {\n      return binl2rstr(binl_md5(rstr2binl(s), s.length * 8))\n    }\n\n    /*\n    * Calculate the HMAC-MD5, of a key and some data (raw strings)\n    */\n    function rstr_hmac_md5 (key, data) {\n      var i\n      var bkey = rstr2binl(key)\n      var ipad = []\n      var opad = []\n      var hash\n      ipad[15] = opad[15] = undefined\n      if (bkey.length > 16) {\n        bkey = binl_md5(bkey, key.length * 8)\n      }\n      for (i = 0; i < 16; i += 1) {\n        ipad[i] = bkey[i] ^ 0x36363636\n        opad[i] = bkey[i] ^ 0x5C5C5C5C\n      }\n      hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n      return binl2rstr(binl_md5(opad.concat(hash), 512 + 128))\n    }\n\n    /*\n    * Convert a raw string to a hex string\n    */\n    function rstr2hex (input) {\n      var hex_tab = '0123456789abcdef'\n      var output = ''\n      var x\n      var i\n      for (i = 0; i < input.length; i += 1) {\n        x = input.charCodeAt(i)\n        output += hex_tab.charAt((x >>> 4) & 0x0F) +\n        hex_tab.charAt(x & 0x0F)\n      }\n      return output\n    }\n\n    /*\n    * Encode a string as utf-8\n    */\n    function str2rstr_utf8 (input) {\n      return unescape(encodeURIComponent(input))\n    }\n\n    /*\n    * Take string arguments and return either raw or hex encoded strings\n    */\n    function raw_md5 (s) {\n      return rstr_md5(str2rstr_utf8(s))\n    }\n    function hex_md5 (s) {\n      return rstr2hex(raw_md5(s))\n    }\n    function raw_hmac_md5 (k, d) {\n      return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d))\n    }\n    function hex_hmac_md5 (k, d) {\n      return rstr2hex(raw_hmac_md5(k, d))\n    }\n\n    function md5 (string, key, raw) {\n      if (!key) {\n        if (!raw) {\n          return hex_md5(string)\n        }\n        return raw_md5(string)\n      }\n      if (!raw) {\n        return hex_hmac_md5(key, string)\n      }\n      return raw_hmac_md5(key, string)\n    }\n\n    return md5;\n  })()\n\n  var md5 = store.md5;\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   OBSERVABLE\n   ***\n   *****************************************************\n   *****************************************************/\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  var el = store.observable;\n\n  /**\n   * Private variables and methods\n   */\n\n  var callbacks = {},\n    onEachEvent = function(e, fn) { e.replace(/\\S+/g, fn) },\n    defineProperty = function (key, value) {\n      Object.defineProperty(el, key, {\n        value: value,\n        enumerable: false,\n        writable: false,\n        configurable: false\n      })\n    }\n\n  /**\n   * Listen to the given space separated list of `events` and execute the `callback` each time an event is triggered.\n   * @param  { String } events - events ids\n   * @param  { Function } fn - callback function\n   * @returns { Object } el\n   */\n  defineProperty('on', function(events, fn) {\n    if (typeof fn != 'function')  return el\n\n    onEachEvent(events, function(name, pos) {\n      (callbacks[name] = callbacks[name] || []).push(fn)\n      fn.typed = pos > 0\n    })\n\n    return el\n  })\n\n  /**\n   * Removes the given space separated list of `events` listeners\n   * @param   { String } events - events ids\n   * @param   { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('off', function(events, fn) {\n    if (events == '*') callbacks = {}\n    else {\n      onEachEvent(events, function(name) {\n        if (fn) {\n          var arr = callbacks[name]\n          for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n            if (cb == fn) arr.splice(i--, 1)\n          }\n        } else delete callbacks[name]\n      })\n    }\n    return el\n  })\n\n  /**\n   * Listen to the given space separated list of `events` and execute the `callback` at most once\n   * @param   { String } events - events ids\n   * @param   { Function } fn - callback function\n   * @returns { Object } el\n   */\n\n  defineProperty('one', function(events, fn) {\n    function on() {\n      el.off(events, on)\n      fn.apply(el, arguments)\n    }\n    return el.on(events, on)\n  })\n\n  /**\n   * Execute all callback functions that listen to the given space separated list of `events`\n   * @param   { String } events - events ids\n   * @returns { Object } el\n   */\n\n  defineProperty('trigger', function(events) {\n\n    // getting the arguments\n    // skipping the first one\n    var arglen = arguments.length - 1,\n      args = new Array(arglen)\n    for (var i = 0; i < arglen; i++) {\n      args[i] = arguments[i + 1]\n    }\n\n    onEachEvent(events, function(name) {\n\n      var fns = (callbacks[name] || []).slice(0)\n\n      for (var i = 0, fn; fn = fns[i]; ++i) {\n        if (fn.busy) return\n        fn.busy = 1\n\n        try {\n          fn.apply(el, fn.typed ? [name].concat(args) : args)\n        } catch (e) { el.trigger('error', e) }\n        if (fns[i] !== fn) { i-- }\n        fn.busy = 0\n      }\n\n      if (callbacks.all && name != 'all')\n        el.trigger.apply(el, ['all', name].concat(args))\n\n    })\n\n    return el\n  })\n\n\n  /*****************************************************\n   *****************************************************\n   ***\n   ***   STORE FUNCTIONALITY\n   ***\n   *****************************************************\n   *****************************************************/\n  // PERSISTENT STORAGE\n  store.remembers = [];\n\n  store.trigger = function(name){\n    this.observable.trigger()\n  }\n  store.get = function(name){\n    var data = this.data[name]\n\n    if(typeof data == \"object\"){\n      data = JSON.parse(JSON.stringify(data))\n    }\n\n    return data;\n  }\n  store.was = function(name){\n    return this.dataWas[name];\n  }\n  store.setDefault = function(name, defaultData){\n    var data = this.data[name] || defaultData;\n    return store.set(name, data);\n  }\n  store.merge = function(name, data){\n    var dataWas = JSON.parse(JSON.stringify(this.get(name)));\n    if(typeof data != \"object\" || (typeof data == \"object \" && \"length\" in data)){\n      throw \"Merge requires params to be object\";\n    }\n\n    if(typeof dataWas != \"object\" || (typeof dataWas == \"object \" && \"length\" in data)){\n      throw \"Merge requires source data to be object\";\n    }\n\n\n    Object.keys(data).forEach(function(key){\n      dataWas[key] = data[key];\n    })\n\n    this.set(name, dataWas);\n\n  }\n\n  store.set = function(name, data){\n    this.dataWas[name] = this.data[name]\n    this.data[name] = data;\n\n    if(!this.dataWas[name] || this.dataWas[name] != data){\n      this.observable.trigger(name + '.change')\n    }else if(this.dataWas[name] && this.dataWas[name] == data){\n      this.observable.trigger(name + '.update')\n    }\n    if(!this.dataWas[name]){\n      this.observable.trigger(name + '.create')\n    }\n    if(this.dataWas[name] && !this.data[name]){\n      this.observable.trigger(name + '.empty')\n    }\n    if(this.dataWas[name] && (this.data[name] == '' || !this.data[name])){\n      this.observable.trigger(name + '.blank')\n    }\n    if(this.data[name] != '' && this.data[name]){\n      this.observable.trigger(name + '.notBlank')\n    }\n\n    if(typeof this.data[name] == \"object\" && !(Array.isArray(this.data[name]))){\n      this.observable.trigger(name + '.isObject')\n    }\n\n    if(typeof this.data[name] == \"object\" && Array.isArray(this.data[name])){\n      this.observable.trigger(name + '.isArray')\n    }\n\n    if(typeof this.data[name] == \"string\"){\n      this.observable.trigger(name + '.isString')\n    }\n\n    if(typeof this.data[name] == \"number\"){\n      this.observable.trigger(name + '.isNumber')\n    }\n\n    if(typeof this.data[name] == \"number\" && this.data[name] > this.dataWas[name]){\n      this.observable.trigger(name + '.increase')\n    }\n\n    if(typeof this.data[name] == \"number\" && this.data[name] < this.dataWas[name]){\n      this.observable.trigger(name + '.decrease')\n    }\n\n    if(typeof this.data[name] == \"object\"){\n      triggerData = JSON.stringify(this.data[name]);\n    }else{\n      triggerData = this.data[name];\n    }\n\n    this.observable.trigger(name + \".\" + md5(triggerData))\n\n    this.observable.trigger(name)\n    this.observable.trigger(\"update\")\n\n    if(store.storage.get && store.storage.set){\n      var storageData = store.storage.get() || {};\n      db = this\n\n      this.remembers.forEach(function(dataName){\n        storageData[dataName] = db.data[dataName];\n      })\n\n      if(Object.keys(storageData).length != 0 && store.storage.set && this.remembers.length != 0){\n        store.storage.set(storageData);\n      }\n    }\n\n    return this.data[name];\n  }\n\n  store.increase = function(name){\n    this.data[name] = this.data[name] || 0;\n    if(typeof this.data[name] == \"number\"){\n      this.set(name, this.data[name] + 1)\n    }\n  }\n  store.decrease = function(name){\n    this.data[name] = this.data[name] || 0;\n    if(typeof this.data[name] == \"number\"){\n      this.set(name, this.data[name] - 1)\n    }\n  }\n\n  store.on = function(name){\n    var store = this;\n    var observable = {};\n    observable.name = name;\n    observable.observe = function(trigger, callback){\n      var detachable = {};\n      if(typeof trigger == 'function'){\n        callback = trigger;\n        trigger = undefined;\n      }\n      if(trigger){\n        detachable.trigger = observable.name + '.' + trigger;\n      }else{\n        detachable.trigger = observable.name;\n      }\n      if(typeof callback == \"function\"){\n        callback = callback.bind(store)\n      }\n      detachable.callback = callback;\n      store.observable.on(detachable.trigger, callback);\n      detachable.detach = function(){\n        return store.observable.off(detachable.trigger, this.callback);\n      }\n      detachable.react = function(component){\n        oldComponenentWillUnmount = component.componentWillUnmount\n        component.componentWillUnmount = function(){\n          if(oldComponenentWillUnmount){\n            oldComponenentWillUnmount.bind(component)\n          }\n          detachable.detach()\n        }\n        return store.observable.off(detachable.trigger, this.callback);\n      }\n      return detachable\n    }\n    observable.update = function(callback){\n      return this.observe('update', callback);\n    }\n    observable.change = function(callback){\n      return this.observe('change', callback);\n    }\n    observable.empty = function(callback){\n      return this.observe('empty', callback);\n    }\n    observable.blank = function(callback){\n      return this.observe('blank', callback);\n    }\n    observable.create = function(callback){\n      return this.observe('create', callback);\n    }\n    observable.notBlank = function(callback){\n      return this.observe('notBlank', callback);\n    }\n    observable.isObject = function(callback){\n      return this.observe('isObject', callback);\n    }\n    observable.isArray = function(callback){\n      return this.observe('isArray', callback);\n    }\n    observable.isString = function(callback){\n      return this.observe('isString', callback);\n    }\n    observable.isNumber = function(callback){\n      return this.observe('isNumber', callback);\n    }\n    observable.increase = function(callback){\n      return this.observe('increase', callback);\n    }\n    observable.decrease = function(callback){\n      return this.observe('decrease', callback);\n    }\n    observable.isEqualTo = function(value, callback){\n      if(typeof value == \"object\"){\n        value = JSON.stringify(value)\n      }\n      return this.observe(md5(value), callback);\n    }\n    return observable;\n  }\n  return store;\n})({})\nif(typeof module != 'undefined' && module.exports){\n  module.exports = Store;\n}\n"]}